!=need to do, *=todo, ?=waste of time

==================================
BLOCKERS for the 2.6.3 release
----------------------------------

! FIX THEME FOR MSIE!
! look at bugs on sf.net ADD LINK IN THIS FILE

Also, I had a bit of a
struggle getting photos to upload.  Seems that the /images/photos/upload/
directory did't get created during the install process and the mkdir
function couldn't create the /images/photos/upload/admin directory that it
wanted to use.  I finally tracked it all down and created the directories
manually and everything is good.  Not sure if that's a bug or not.  Looks
like great software.  Thanks in advance for your help.


===================
RELEASE HOWTO
-------------------

! Regression testing / validation:
  Regression: microformats, sitemaps, rss, gallery API, OpenSearch, hacks
  update module API's and documentation
  photostore does not fully protect private photos
  harden against malicio us user inputs and sql inj ection -- you like that anti-grep obfuscation?
  and uploading non-images
  #vim setup/install.mysql

-------------------
AUTOMATED RELEASE
edit the first line, then paste into a terminal...
-------------------

VERSION='2.6.3b5' # edit this line, save TODO, then paste this script
sed -i '' "/this..version/s/'.*'/'$VERSION'/" main.inc
grep -lIr . . | grep -v '\.svn' | # no binary, no svn
xargs sed "1,10 s/@\(\W*\)version\W*[0-9.a-z]\+/@\1version $VERSION/" -i

svn commit -m "Releasing version $VERSION"
phpdoc -c phpdoc.ini
rsync --delete -ave ssh ../docs fulldecent,fdcl@web.sf.net:htdocs
BASE=$PWD
pushd $(mktemp -d)
echo "<?php \$VERSION=\"$VERSION\" ?>" > version.php
rsync -ave ssh version.php fulldecent,fdcl@web.sf.net:htdocs
rm version.php
mkdir $VERSION
cd $VERSION
svn export $BASE cameralife
touch cameralife/deleted.log
chmod 777 cameralife/ cameralife/images/ cameralife/images/* cameralife/modules/ cameralife/deleted.log
zip -r cameralife-${VERSION}.zip cameralife/
tar -czf cameralife-${VERSION}.tgz cameralife/
tar -cjf cameralife-${VERSION}.tar.bz2 cameralife/
rm -rf cameralife
cd ..
scp -r "$VERSION" fulldecent,fdcl@frs.sourceforge.net:'/home/frs/project/f/fd/fdcl/Camera\ Life/'
rm -rf cameralife-*
popd

#GOTO  https://sourceforge.net/project/admin/explorer.php?group_id=70910
#  move folder into Camera Life directory
#  edit files to add properties
#GOTO  http://freshmeat.net/projects/fdcl/releases/new

===========================
TODO FOR 2.6.4 RELEASE
----------------------------

! Video support
! Search results in theme with Photos AND Folders AND Albums
! create help pages at http://fdcl.sourceforge.net/wiki/index.php/Main_Page and link to them from inside CL
  -- which pages? setup/albums.html setup/checkpoints.html
  -- can this wiki be migrated to a real server, like Google Hosting?
* Integrate with facebook
  -- send photos to facebook
  -- retrieve comments from facebook
  -- retrieve tags / who is in the photo from facebook
  -- put into hacks
! Should throw 404s from topic and folder.php
! Make more secure 
  ! find . -follow \( -name ".svn" \) -prune -o -print | xargs grep -Hn //TODO
  ! grep GET  -r modules/theme/*/*inc
  ! grep PHP_SELF  -r modules/theme/*/*inc
  ! grep Database -r modules/theme/*/*inc
  ! grep '\./' */*php | grep -v requ
* VALID HTML STRICT!!!
? PHP E_ALL strict?
* Admin->* "Changes Saved" should produce a message like Gmail as in Photo.php
* theme -> more obvious tabs
? Make Theme->AssetURL work if content negotiation is off

===========================
TODO AFTER 2.6.4 RELEASE
---------------------------

! Theme bounty! iPod Nano / shuffle?
? change photostore to be a true FileStore, no knowledge of what's a thumbnail
! harden against XSRF: 
  ! fix transactions: each fdcl install get a random number (secret). This i hashed with the user's senssion cookie and put on all forms.
  ! when receiving the form, validate the hash.
! move Image stuff further out into ImageProcessing
* generalize photo metadata: exif, comments, ratings, flickr backup/restore hack
? Email upload photos, like flickr # http://www.phpclasses.org/browse/file/3.html
* hacks/rename.php - allow it to work on all files in a given path
* picasa compatibility - for photo modification string
* OpenID providers: (yahoo, blogger, AIM, LiveJournal, myspace, facebook)
* fdcl.sf.net analytics
* Change photos.mtime to photos.filter
? logs.value_old is techically unnecessary

-- The big picture --
? Gallery theme compatibility
! i18n

-- Things that will break the API --
- This will use a modification string like in picasa.ini
* Add a photo modification optimization engine to photo.class.php
- It takes the existing photo and filter
- Considers the new filter
- Deletes stale caches
- Acts in the best possible way
. Rotate existing photo
. Or start from scratch
. Chooses to work off original or scaled image
- Result: editing a photo will not require modifying the full sized image (takes forever) unless the user loads that full size image, in which case it is cached.
- Admin may update these cache at their whim via the Update Database in Files in Admin

* Enumerate the photos.status and other columns
* A standard way of getting information about modules, and loading them (compare to theme-info.php)

